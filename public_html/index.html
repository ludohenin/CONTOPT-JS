<!DOCTYPE html>

<html>
    <head>
    <title>TODO supply a title</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="SimulatedAnnealing.js"></script>
    <script src="EvolutionStrategies.js"></script>
    <script src="ParticleSwarmOptimization.js"></script>
    <script src="ArtificialBeeColony.js"></script>
    <script src="DifferentialEvolution.js"></script>
    <script src="BenchmarkFunctions.js"></script>
    <script src="Solution.js"></script>
    <script src="GaussianRNG.js"></script>
    <script src="SensorDeploymentProblem.js"></script>
    <script src="SensorPanel.js"></script>

    <script src="ArtificialBeeColony_Sensor.js"></script>
    <script src="DifferentialEvolution_Sensor.js"></script>
    <script src="ParticleSwarmOptimization_Sensor.js"></script>
    <script src="EvolutionStrategies_Sensor.js"></script>

</head>
<body onload="startSensorProblem()">
    <p id="p1"></p>
    <p id="p2"></p>
    <p id="p3"></p>
    <p id="p4"></p>
    <p id="p5"></p>

<script>
    function startSensorProblem() {
        var numOfSensors = 100;
        var numOfPoints = 1000;
        var width = 500;
        var height = 500;
        var radius = 35;

        var prob = new SensorDeploymentProblem(numOfSensors, numOfPoints, radius, width, height);
        var randomSensorsArray = prob.generateRandomSensorsArray();
        var randomPointsArray = prob.generateRandomPointsArray();
        prob.setSensorsArray(randomSensorsArray);
        prob.setPointsArray(randomPointsArray);

        var sPanel = new SensorPanel(prob);
        sPanel.start();

        var dim = numOfSensors * 2;
        document.getElementById("p1").innerHTML = prob.getCoverage();

        w6 = new Worker("EvolutionStrategies_Sensor.js");
        w6.postMessage([2, 40, 1 / Math.sqrt(dim), 500000, 0, 0, dim, numOfSensors, numOfPoints, radius, width, height, randomPointsArray]);

        w6.onmessage = function (event) {
            prob.setSensorsArray(event.data[0]);
            document.getElementById("p1").innerHTML = prob.getCoverage();
            sPanel.repaint();
            document.getElementById("p2").innerHTML = event.data[1];
            document.getElementById("p3").innerHTML = event.data[0];
        };

        /*w6 = new Worker("ParticleSwarmOptimization_Sensor.js");
         w6.postMessage([0.39, 2.55, 1.33, 30, 500000, 0, 0, dim, numOfSensors, numOfPoints, radius, width, height, randomPointsArray]);
         
         w6.onmessage = function (event) {
         prob.setSensorsArray(event.data[0]);
         document.getElementById("p1").innerHTML = prob.getCoverage();
         sPanel.repaint();
         document.getElementById("p2").innerHTML = event.data[1];
         document.getElementById("p3").innerHTML = event.data[0];
         };*/

        /*w6 = new Worker("ArtificialBeeColony_Sensor.js");
         w6.postMessage([20, 100, 500000, 0, 0, dim, numOfSensors, numOfPoints, radius, width, height, randomPointsArray]);
         
         w6.onmessage = function (event) {
         prob.setSensorsArray(event.data[0]);
         document.getElementById("p1").innerHTML = prob.getCoverage();
         sPanel.repaint();
         document.getElementById("p2").innerHTML = event.data[1];
         document.getElementById("p3").innerHTML = event.data[0];
         };*/

        /*w5 = new Worker("DifferentialEvolution_Sensor.js");
         w5.postMessage([40, 0.6, 0.05, 500000, 0, 0, dim, numOfSensors, numOfPoints, radius, width, height, randomPointsArray]);
         
         w5.onmessage = function (event) {
         prob.setSensorsArray(event.data[0]);
         sPanel.repaint();
         document.getElementById("p1").innerHTML = prob.getCoverage();
         document.getElementById("p2").innerHTML = event.data[1];
         document.getElementById("p3").innerHTML = event.data[0];
         };*/
    }

    /*var dim = 100;
     
     w1 = new Worker("SimulatedAnnealing.js");
     w1.postMessage([0.999, 1000, 0.001, "sphere", 5.12, -5.12, dim]);
     
     w1.onmessage = function (event) {
     document.getElementById("p1").innerHTML = event.data;
     };*/

    /*var dim = 30;
     w2 = new Worker("EvolutionStrategies.js");
     w2.postMessage([1, 10, 1 / Math.sqrt(dim), 5000*dim, "sphere", 5.12, -5.12, dim]);
     
     w2.onmessage = function (event) {
     document.getElementById("p2").innerHTML = event.data;
     };*/

    /*var dim = 30;
     w3 = new Worker("ParticleSwarmOptimization.js");
     w3.postMessage([0.39, 2.55, 1.33, 25, 5000 * dim, "sphere", 5.12, -5.12, dim]);
     
     w3.onmessage = function (event) {
     document.getElementById("p3").innerHTML = event.data;
     };*/

    /*w4 = new Worker("ArtificialBeeColony.js");
     w4.postMessage([20, 100, 5000 * dim, "sphere", 5.12, -5.12, dim]);
     
     w4.onmessage = function (event) {
     document.getElementById("p4").innerHTML = event.data;
     };*/

    /*var dim = 30;
     w5 = new Worker("DifferentialEvolution.js");
     w5.postMessage([20, 0.9, 0.8, 5000 * dim, "sphere", 5.12, -5.12, dim]);
     
     w5.onmessage = function (event) {
     document.getElementById("p5").innerHTML = event.data;
     };*/

</script>
</body>
</html>
